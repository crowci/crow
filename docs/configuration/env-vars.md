---
hide:
  - toc
---

## Server

| Name                                          | Description                                                                                                                              | Value     |
| --------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------- | --------- |
| `CROW_BACKEND_K8S_NAMESPACE`                  | The k8s namespace to execute pipelines in                                                                                                | `crow`    |
| `CROW_BACKEND_K8S_POD_ANNOTATIONS`            | Additional annotations to apply to worker Pods.<br> Must be a YAML object, e.g.<br> `{"example.com/test-annotation":"test-value"}`.      |           |
| `CROW_BACKEND_K8S_POD_LABELS_ALLOW_FROM_STEP` | Determines if Pod annotations can be defined from a step's<br> backend options.                                                          | `false`   |
| `CROW_BACKEND_K8S_POD_LABELS`                 | Additional labels to apply to worker Pods.<br> Must be a YAML object,<br> e.g. `{"example.com/test-label":"test-value"}`                 |           |
| `CROW_BACKEND_K8S_POD_NODE_SELECTOR`          | Additional node selector to apply to worker pods.<br> Must be a YAML object, e.g.<br> `{"topology.kubernetes.io/region":"eu-central-1"}` |           |
| `CROW_BACKEND_K8S_PULL_SECRET_NAMES`          | Secret names to pull images from private repositories.                                                                                   |           |
| `CROW_BACKEND_K8S_SECCTX_NONROOT`             | Whether containers must be run as a non-root user.                                                                                       | `false`   |
| `CROW_BACKEND_K8S_STORAGE_CLASS`              | The storage class to use for the temporary pipeline volume.                                                                              |           |
| `CROW_BACKEND_K8S_STORAGE_RWX`                | Whether a RWX should be used for the temporary pipeline volume.<br> If false, RWO is used instead.                                       | `true`    |
| `CROW_BACKEND_K8S_STORAGE_CLASS`              | The storage class to use for the pipeline volume.                                                                                        |           |
| `CROW_BACKEND_K8S_VOLUME_SIZE`                | The volume size of the temporary pipeline volume.                                                                                        | `10G`     |
| `CROW_BACKEND_LOCAL_TEMP_DIR`                 | Directory in which pipelines are executed                                                                                                | `$TMPDIR` |
| `CROW_LOG_LEVEL`                              | Logging level. Possible values are `trace`, `debug`, `info`, <br>`warn`, `error`, `fatal`, `panic`, and `disabled`.                      |           |
| `CROW_LOG_FILE`                               | Output destination for logs. <br>`stdout` and `stderr` can be used as special keywords.                                                  | `stderr`  |

## Agent

| Name                       | Description                                                                                                                                                                                                                                                                              | Value            |
| -------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------- |
| `CROW_AGENT_CONFIG_FILE`   | Filepath containing agent config, e.g. `/etc/woodpecker/agent.conf`                                                                                                                                                                                                                      |                  |
| `CROW_AGENT_LABELS`        | Configures custom labels for the agent, to enable workflow filtering.<br> Accepts a list of key-value pairs like `key=value,second-key=*`.<br> Agents provide three additional labels <br> `platform=os/arch`, `hostname=my-agent` and `repo=*` <br> which can be overwritten if needed. |                  |
| `CROW_AGENT_SECRET_FILE`   | Filepath containing agent secret, e.g. `/etc/woodpecker/agent-secret.conf`                                                                                                                                                                                                               |                  |
| `CROW_AGENT_SECRET`        | A shared secret used by server and agents to authenticate communication.<br> A secret can be generated via `openssl rand -hex 32`.                                                                                                                                                       |                  |
| `CROW_BACKEND`             | Woodpecker backend to use. <br>Possible values are `auto-detect`, `docker`, `local` or `kubernetes`.                                                                                                                                                                                     | `auto-detect`    |
| `CROW_CONNECT_RETRY_COUNT` | number of times agent retries to connect to the server.                                                                                                                                                                                                                                  | `5`              |
| `CROW_CONNECT_RETRY_DELAY` | delay between agent connection retries to the server.                                                                                                                                                                                                                                    | `2s`             |
| `CROW_DEBUG_NOCOLOR`       | Disable colored debug output.                                                                                                                                                                                                                                                            | `true`           |
| `CROW_DEBUG_PRETTY`        | Enable pretty-printed debug output.                                                                                                                                                                                                                                                      | `false`          |
| `CROW_GRPC_SECURE`         | Whether the connection to `CROW_SERVER` should be made via SSL.                                                                                                                                                                                                                          | `false`          |
| `CROW_GRPC_VERIFY`         | Whether the `grpc` server certificate should be verified. <br>Only valid when `CROW_GRPC_SECURE=true`.                                                                                                                                                                                   | `true`           |
| `CROW_HEALTHCHECK_ADDR`    | Healthcheck endpoint address.                                                                                                                                                                                                                                                            | `:3000`          |
| `CROW_HEALTHCHECK`         | Enable healthcheck endpoint.                                                                                                                                                                                                                                                             | `true`           |
| `CROW_HOSTNAME`            | Agent hostname                                                                                                                                                                                                                                                                           |                  |
| `CROW_KEEPALIVE_TIME`      | With no activity after this duration, the agent pings the server <br> to check if the transport is still alive.                                                                                                                                                                          |                  |
| `CROW_KEEPALIVE_TIMEOUT`   | After pinging for a keepalive check, the agent waits for this duration <br>before closing unresponsive connections.                                                                                                                                                                      | `20s`            |
| `CROW_LOG_LEVEL`           | Logging level. Possible values are `trace`, `debug`, `info`, <br>`warn`, `error`, `fatal`, `panic`, and `disabled`.                                                                                                                                                                      |                  |
| `CROW_MAX_WORKFLOWS`       | Number of parallel workflows.                                                                                                                                                                                                                                                            | `1`              |
| `CROW_SERVER`              | gRPC address of the server.                                                                                                                                                                                                                                                              | `localhost:9000` |
| `CROW_USERNAME`            | gRPC username.                                                                                                                                                                                                                                                                           | `x-oauth-basic`  |
| `CROW_LOG_FILE`            | Output destination for logs. `stdout` and `stderr` can be used as special keywords.                                                                                                                                                                                                      | `stderr`         |
